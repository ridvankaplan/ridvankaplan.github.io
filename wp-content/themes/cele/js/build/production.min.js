!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("name")){var g="fitvid"+a.fn.fitVids._count;b.attr("name",g),a.fn.fitVids._count++}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})},a.fn.fitVids._count=0}(window.jQuery||window.Zepto),jQuery(document).ready(function(a){function b(){window.innerWidth>899?v.outerHeight(!0)<window.innerHeight&&0==o.length?(t.addClass("fixed"),g()):0==z&&(a(window).on("scroll resize",f),z=!0):z=!1}function c(){q.hasClass("open")?(q.removeClass("open"),a(this).removeClass("open"),u.removeClass("open"),a(this).children("span").text(ct_cele_objectL10n.openMenu),a(this).attr("aria-expanded","false")):(q.addClass("open"),a(this).addClass("open"),u.addClass("open"),a(this).children("span").text(ct_cele_objectL10n.closeMenu),a(this).attr("aria-expanded","true"))}function d(){var c=a(this).parent(),d=a(this).siblings("ul"),e=c.parent();if(c.hasClass("open"))c.removeClass("open"),a(this).children("span").text(ct_cele_objectL10n.openMenu),a(this).attr("aria-expanded","false"),d.css("max-height","0"),d.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){h(),b()}),j(c,"close");else{c.addClass("open"),a(this).children("span").text(ct_cele_objectL10n.closeMenu),a(this).attr("aria-expanded","true");var f=0;d.children("li").each(function(){f+=a(this).height()}),d.css("max-height",f),e.hasClass("sub-menu")&&e.css("max-height",parseInt(e.css("max-height"))+f+"px"),e.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){h(),b()}),j(c,"open")}}function e(){var c=0;r.find("ul").each(function(){a(this).children("li").each(function(){a(this).css("transition-delay","0."+c+"s"),c++}),c=0});var d=a(".current-menu-ancestor");d.addClass("open"),d.children("ul").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){h(),b()})}function f(){function b(a,b){a&&b?t.css("right",n.offset().left):a?t.css("right",""):b?t.css("left",n.offset().left):t.css("left","")}if(!(window.innerWidth<900)){var c=a(window).scrollTop()+window.innerHeight,d=v.offset().top+v.outerHeight(!0),e=!1,f=a(this).scrollTop(),g=!1;k.hasClass("rtl")&&(g=!0),y>f&&(e=!0),y=f,1==e&&t.hasClass("fixed-bottom")?(t.css("top",t.offset().top-x+"px"),b(g,!1),t.addClass("down-page"),t.removeClass("fixed-bottom")):1==e&&t.hasClass("down-page")&&t.offset().top-w>=a(window).scrollTop()?(t.removeClass("down-page"),t.addClass("fixed-top"),t.css("top",""),b(g,!0)):t.hasClass("fixed-top")&&a(window).scrollTop()<=parseInt(m.offset().top)?(t.removeClass("fixed-top"),b(g,!1)):(t.hasClass("fixed-top")||t.hasClass("fixed"))&&0==e?(t.css("top",t.offset().top-x+"px"),b(g,!1),t.removeClass("fixed-top"),t.removeClass("fixed"),t.addClass("down-page")):c>=d&&0==e&&a(window).scrollTop()>=x&&(t.addClass("fixed-bottom"),v.outerHeight(!0)>=window.innerHeight?t.css("top",""):t.css("top",-24),b(g,!0),t.removeClass("down-page"))}}function g(){window.innerWidth>=1100?x=24:window.innerWidth>=1e3?x=12:window.innerWidth>=890&&(x=0),a("#wpadminbar").length>0&&(x+=32,t.hasClass("fixed")&&t.css("top","32px")),o.length>0&&(x+=o.outerHeight(!0)),t.hasClass("fixed")&&t.css("left",n.offset().left)}function h(){var a=v.outerHeight(!0)+t.offset().top;a<window.innerHeight?l.css("min-height",window.innerHeight):l.css("min-height",a)}function i(){"object-fit"in document.body.style||a(".featured-image").each(function(){if(!a(this).parent().parent(".entry").hasClass("ratio-natural")){var b=a(this).children("img").add(a(this).children("a").children("img"));if(b.hasClass("no-object-fit"))return;b.addClass("no-object-fit"),b.outerWidth()<a(this).outerWidth()&&b.css({width:"100%","min-width":"100%","max-width":"100%",height:"auto","min-height":"100%","max-height":"none"}),b.outerHeight()<a(this).outerHeight()&&b.css({height:"100%","min-height":"100%","max-height":"100%",width:"auto","min-width":"100%","max-width":"none"})}})}function j(b,c){var d=0;"close"==c&&(d=-1),b?b.children("ul").children("li").children("a, button").attr("tabindex",d):r.find("ul").each(function(){a(this).children("li").children().attr("tabindex",-1)})}var k=a("body"),l=a("#main"),m=a("#overflow-container"),n=a("#max-width"),o=a("#header-image"),p=a("#toggle-navigation"),q=a("#menu-primary-container"),r=a("#menu-primary-items"),s=a(".toggle-dropdown"),t=a("#main-sidebar"),u=a("#sidebar-primary-container"),v=a("#sidebar-inner"),w=0;k.hasClass("admin-bar")&&(w=32);var x=24,y=0,z=!1;e(),h(),b(),i(),g(),j(),p.on("click",c),s.on("click",d),a(window).on("resize",function(){i(),b(),g(),h()}),a(document.body).on("post-load",function(){i()}),a(".post-content").fitVids({customSelector:'iframe[src*="dailymotion.com"], iframe[src*="slideshare.net"], iframe[src*="animoto.com"], iframe[src*="blip.tv"], iframe[src*="funnyordie.com"], iframe[src*="hulu.com"], iframe[src*="ted.com"], iframe[src*="wordpress.tv"]'}),0!==a("#scroll-to-top").length&&(a(window).on("scroll",function(){a(this).scrollTop()>=200?a("#scroll-to-top").addClass("visible"):a("#scroll-to-top").removeClass("visible")}),a("#scroll-to-top").click(function(){a("body,html").animate({scrollTop:0},600),a(this).blur()}))}),window.addEventListener("hashchange",function(){var a=document.getElementById(location.hash.substring(1));a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus())},!1);